<div class="login-container">
  <section class="text-center text-lg-start">
    <div id="ss" class="shadow login-card">
      <div class="row g-0 align-items-center">
        
        <!-- Imagen lateral -->
        <div class="col-lg-5 ms-5 d-none d-lg-block">
          <img 
            src="assets/imagenes/BEJI_LOGO.png" 
            alt="Login image"
            class="img-fluid login-image"
          />
        </div>

        <!-- Formulario -->
        <div class="col-lg-6">
          <div class="card-body p-5">
            <h3 class="mb-4 fw-bold  text-center">Bienvenido</h3>
            <p class="text-muted text-center mb-4">Inicia sesiÃ³n para continuar</p>

            <form #loginForm="ngForm" (ngSubmit)="login(loginForm)">
              <!-- Correo -->
              <div class="form-outline mb-3 position-relative">
                <input 
                  [(ngModel)]="email" 
                  #emailModel="ngModel"
                  name="email" 
                  type="email"
                  placeholder="Correo electrÃ³nico" 
                  required
                  email
                  class="form-control"
                  id="email"
                  title="Ingrese el correo electrÃ³nico registrado en Sport10."
                  aria-label="Correo electrÃ³nico"
                />
                <div *ngIf="(emailModel.invalid && (emailModel.touched || loginForm.submitted))" class="text-danger small mt-1">
                  <div *ngIf="emailModel.errors?.['required']">El correo es obligatorio.</div>
                  <div *ngIf="emailModel.errors?.['email']">Ingrese un correo vÃ¡lido.</div>
                </div>
              </div>

              <!-- ContraseÃ±a -->
              <div class="form-outline mb-3 position-relative">
                <div class="input-with-toggle">
                  <input 
                    [(ngModel)]="password" 
                    #passwordModel="ngModel"
                    name="password" 
                    placeholder="ContraseÃ±a" 
                    [type]="showPassword ? 'text' : 'password'" 
                    required 
                    minlength="8"
                    class="form-control"
                    id="password"
                    title="La contraseÃ±a distingue mayÃºsculas y minÃºsculas. MÃ­nimo 8 caracteres."
                    aria-label="ContraseÃ±a"
                  />
                  <button
                    type="button"
                    class="btn btn-outline-secondary password-toggle"
                    (click)="togglePassword()"
                    [attr.aria-pressed]="showPassword"
                    title="Mostrar / ocultar contraseÃ±a"
                  >
                    <span *ngIf="!showPassword">ğŸ‘ï¸</span>
                    <span *ngIf="showPassword">ğŸ™ˆ</span>
                  </button>
                </div>
                <div *ngIf="(passwordModel.invalid && (passwordModel.touched || loginForm.submitted))" class="text-danger small mt-1">
                  <div *ngIf="passwordModel.errors?.['required']">La contraseÃ±a es obligatoria.</div>
                  <div *ngIf="passwordModel.errors?.['minlength']">La contraseÃ±a debe tener mÃ­nimo 8 caracteres.</div>
                </div>
                <div class="form-text text-muted mt-1">La contraseÃ±a distingue mayÃºsculas y minÃºsculas. MÃ­nimo 8 caracteres.</div>
              </div>

              <!-- BotÃ³n y carga -->
              <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" type="submit" id="ingresar" [disabled]="loading">
                  <span *ngIf="!loading">Ingresar</span>
                  <span *ngIf="loading">
                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                    &nbsp;Validando credenciales...
                  </span>
                </button>
              </div>

              <!-- Mensaje de error -->
              <div *ngIf="error" class="alert alert-danger text-center mt-3">
                {{ error }}
              </div>

              <!-- Ayuda rÃ¡pida / soporte -->
              <div class="text-center mt-3">
                <a class="text-muted" href="mailto:admin@example.com" title="Contacte al administrador para restablecer la contraseÃ±a">Â¿No puede ingresar? Contacte al administrador para restablecer la contraseÃ±a</a>
              </div>
            </form>
          </div>
        </div>

      </div>
    </div>
  </section>
</div>
